#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"


echo 'Styling , Testing and building your project before committing';

# Check Prettier standards
npm run check-format || (
  echo '
    ğŸš«ğŸš«ğŸš«ğŸš« Prettier Check Failed. Run <npm run prettier>, add changes and try commit again. ğŸš«ğŸš«ğŸš«ğŸš«';
  false;
)

# Check ESLint Standards
npm run check-lint || (
  echo '
    ğŸš«ğŸš«ğŸš«ğŸš«  ESLint Check Failed. Make the required changes listed above, add changes and try to commit again. ğŸš«ğŸš«ğŸš«ğŸš«'
  false;
)


# Check tsconfig standards
npm run check-types || (
  echo '
   ğŸš«ğŸš«ğŸš«ğŸš« Type Script Lint Check Failed. Make the changes required above.ğŸš«ğŸš«ğŸš«ğŸš«'
  false;
)

# If everything passes... Now we can commit
echo 'Alright... Code looks good ... Trying to build now.'

npm run build || (
  echo '
   â›”â›”â›”â›” Next build failed: View the errors above to see why.â›”â›”â›”â›”
  '
  false;
)

# If everything passes... Now we can commit
echo 'âœ…âœ…âœ…âœ… Everything is fine... I am committing this now. âœ…âœ…âœ…âœ…'


